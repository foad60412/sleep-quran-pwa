:root{
  --bg:#000;
  --fg:#f9f6ef;
  --muted:#d4af37;
  --card:#101316;
  --accent:#d4af37;
  --border:#23262d;
  --glass:rgba(255,255,255,.06);
}

/* ثيم نهاري */
:root[data-theme="light"]{
  --bg:#f7f7f7;
  --fg:#101010;
  --card:#ffffff;
  --border:#e7e7e7;
  --glass:rgba(0,0,0,.05);
  --accent:#c8a440; /* ذهبي هادئ */
}

*{box-sizing:border-box;margin:0;padding:0}
html,body{height:100%;width:100%;font-family:"Cairo",system-ui,-apple-system,Segoe UI,Roboto,Arial}
body{background:var(--bg);color:var(--fg);display:flex;flex-direction:column;}

/* خلفيات */
.bg-night{background:
  radial-gradient(1000px 600px at 50% -200px, rgba(212,175,55,.15), transparent 60%),
  #000;}
.bg-dawn{background:linear-gradient(180deg,#1a1a1a 0%, #3a2c10 25%, #0b0b0b 100%)}
.bg-stars{
  background:#000;
  background-image:
    radial-gradient(2px 2px at 20% 30%, rgba(255,255,255,.4) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 70% 10%, rgba(255,255,255,.35) 50%, transparent 51%),
    radial-gradient(1.5px 1.5px at 40% 80%, rgba(255,255,255,.3) 50%, transparent 51%);
  background-repeat:repeat;
}

/* Splash */
.splash{
  position:fixed;inset:0;background:var(--bg);display:flex;align-items:center;justify-content:center;z-index:99;
}
.splash-logo{display:flex;flex-direction:column;align-items:center;gap:12px;animation:fadeIn .6s ease}
.splash-title{color:var(--accent);font-weight:800;font-size:20px}
@keyframes fadeIn{from{opacity:.2;transform:translateY(6px)}to{opacity:1;transform:none}}

/* رأس */
.topbar{position:relative;display:flex;align-items:center;justify-content:center;padding:calc(12px + env(safe-area-inset-top)) 16px 8px}
.logoWrap{display:flex;flex-direction:column;align-items:center;gap:8px}
.moon{width:72px;height:72px;filter:drop-shadow(0 6px 18px rgba(0,0,0,.6))}
.appTitle{color:var(--accent);font-weight:800;font-size:20px;letter-spacing:.6px}
.topActions{position:absolute;left:calc(10px + env(safe-area-inset-left));top:calc(10px + env(safe-area-inset-top));display:flex;gap:8px}
.chip{background:rgba(255,255,255,.08);color:var(--accent);border:1px solid rgba(212,175,55,.4);padding:8px 12px;border-radius:999px;cursor:pointer}
.selectChip{appearance:none}

/* زر التثبيت العائم */
.installFab{
  position:absolute;right:auto;left:calc(10px + env(safe-area-inset-left));
  top:calc(70px + env(safe-area-inset-top)); /* تحت الأزرار */
  width:44px;height:44px;border-radius:50%;border:1px solid rgba(212,175,55,.55);
  background:radial-gradient(circle at 50% 45%, rgba(212,175,55,.30), rgba(212,175,55,.12));
  box-shadow:0 6px 16px rgba(0,0,0,.45); backdrop-filter:blur(6px);
}
@media (display-mode: standalone){ .installFab{ display:none !important; } }

/* المحتوى */
.centerWrap{width:100%;max-width:760px;margin:8px auto;padding:0 16px}

/* زجاج */
.glass{background:var(--glass);border:1px solid var(--border);backdrop-filter:blur(10px);box-shadow:0 12px 30px rgba(0,0,0,.45);border-radius:16px}

/* بطاقة المشغّل */
#playerCard{padding:16px}
.track-meta{text-align:center;margin-bottom:10px}
#trackTitle{font-size:22px;color:var(--accent);font-weight:800}
#trackSub{font-size:14px;color:var(--muted)}

.controls{display:flex;justify-content:center;gap:16px;margin:10px 0}
.btn{border:none;padding:12px 18px;font-size:18px;border-radius:12px;background:#161a1f;color:var(--fg);cursor:pointer;transition:.2s}
.btn.primary{background:var(--accent);color:#000;font-weight:800}
.btn.circle{width:70px;height:70px;border-radius:50%}
.btn.ico{width:64px;height:64px;border-radius:12px}

/* شريط التقدّم */
.progress{display:flex;align-items:center;gap:10px;margin:6px 0}
#currentTime,#duration{min-width:52px;text-align:center}
#seek{flex:1;appearance:none;height:12px;border-radius:999px;background:linear-gradient(90deg,var(--accent) 0%, rgba(255,255,255,.12) 0%)}
#seek::-webkit-slider-thumb{-webkit-appearance:none;width:20px;height:20px;border-radius:50%;background:var(--accent);box-shadow:0 2px 6px rgba(0,0,0,.5);border:2px solid rgba(0,0,0,.25);cursor:pointer}
#seek::-moz-range-thumb{width:20px;height:20px;border-radius:50%;background:var(--accent);border:none}

/* الخيارات */
.toggles{display:flex;flex-direction:column;gap:10px;margin-top:10px}
.row{display:flex;align-items:center;justify-content:space-between;gap:14px}
.glassRow{padding:12px 14px;border-radius:14px;background:rgba(255,255,255,.04);border:1px solid var(--border);backdrop-filter:blur(8px)}
.rowText{display:flex;flex-direction:column}
.rowTitle{font-size:15px;color:var(--fg);font-weight:700}
.rowHint{font-size:12px;color:rgba(212,175,55,.85)}

/* سويتش */
.switch{position:relative;width:66px;height:32px;display:inline-block}
.switch input{appearance:none;-webkit-appearance:none;opacity:0;width:0;height:0;position:absolute}
.switch .track{position:absolute;inset:0;border-radius:999px;border:1px solid var(--border);background:linear-gradient(180deg,#121519,#0e1115);box-shadow:inset 0 2px 6px rgba(0,0,0,.65);transition:.2s}
.switch .knob{position:absolute;top:3px;left:3px;width:26px;height:26px;border-radius:50%;background:linear-gradient(180deg,#404852,#2c3239);box-shadow:0 2px 6px rgba(0,0,0,.6);transition:.22s}
.switch input:checked + .track{border-color:rgba(212,175,55,.55);background:linear-gradient(180deg, rgba(212,175,55,.30), rgba(212,175,55,.18));box-shadow:inset 0 0 14px rgba(212,175,55,.25)}
.switch input:checked + .track .knob{left:37px;background:linear-gradient(180deg,#f7dc86,#d4af37);box-shadow:0 4px 12px rgba(212,175,55,.35)}

/* Select */
.selectWrap{position:relative;min-width:170px}
.selectWrap select{width:100%;padding:10px 40px 10px 12px;font-size:15px;color:var(--fg);background:linear-gradient(180deg,#0e1216,#0b0e11);border:1px solid var(--border);border-radius:10px;appearance:none;outline:none}
.selectWrap:after{content:"";position:absolute;right:12px;top:50%;transform:translateY(-50%);width:0;height:0;border-left:6px solid transparent;border-right:6px solid transparent;border-top:8px solid var(--accent);pointer-events:none}

/* صوت */
.volRange{width:220px;max-width:60vw;appearance:none;height:10px;border-radius:999px;background:linear-gradient(90deg,var(--accent) 0%, rgba(255,255,255,.12) 0%)}
.volRange::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;border-radius:50%;background:var(--accent);box-shadow:0 2px 6px rgba(0,0,0,.5);border:2px solid rgba(0,0,0,.25);cursor:pointer}
.volRange::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:var(--accent);border:none}

/* القائمة */
#playlist{width:100%;display:flex;flex-direction:column;gap:10px;margin:16px 0}
.item{background:rgba(255,255,255,.04);border:1px solid var(--border);border-radius:12px;padding:16px;cursor:pointer;transition:.2s;display:flex;justify-content:space-between;align-items:center}
.item:hover{border-color:rgba(212,175,55,.6)}
.item.active{outline:2px solid var(--accent)}
.item .tit{font-size:16px;color:var(--fg);font-weight:700}
.item .sub{color:var(--muted);font-size:13px}

/* هواتف كبيرة */
@supports (padding: env(safe-area-inset-top)) {
  body{ padding-bottom: env(safe-area-inset-bottom); }
}
