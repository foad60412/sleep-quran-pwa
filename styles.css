/* ===========================
   Quran Sleep — styles.css (Stars rev2)
   اللون الذهبي + خلفية نجوم كثيفة + بطاقات زجاجية
   =========================== */

/* --------- متغيرات --------- */
:root{
  --bg:#0b0b0b;
  --text:#f3f3f3;
  --muted:#c8c8c8;
  --accent:#e5c052;          /* ذهبي */
  --accent-2:#ffdf7e;
  --card-r:18px;
}

/* --------- أساسيات --------- */
*{box-sizing:border-box}
html,body{height:100%}
html{scroll-behavior:smooth}
body{
  margin:0;
  font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Kufi Arabic",Tahoma,Arial,sans-serif;
  color:var(--text);
  background:var(--bg);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
}

a{color:inherit;text-decoration:none}
button{font:inherit;cursor:pointer;user-select:none}
input,select{font:inherit}

h1,h2,h3{margin:0 0 8px;line-height:1.25}
h1.title{font-weight:800;letter-spacing:.5px}
.sub{opacity:.8;font-size:.95rem}

/* احترام النتوء في iOS */
.topbar{padding-top:calc(14px + env(safe-area-inset-top))}
.centerWrap{padding-left:max(16px,env(safe-area-inset-left));padding-right:max(16px,env(safe-area-inset-right))}
.installFab{
  position:fixed; right:calc(14px + env(safe-area-inset-right));
  top:calc(14px + env(safe-area-inset-top));
  z-index:30;
}

/* --------- بطاقات زجاجية --------- */
.card,.playerCard,.panel,.controlCard,.accordion{
  background:rgba(25,25,25,.38);
  border:1px solid rgba(255,255,255,.12);
  border-radius:var(--card-r);
  box-shadow:0 16px 40px rgba(0,0,0,.45);
  backdrop-filter:blur(10px) saturate(120%);
  -webkit-backdrop-filter:blur(10px) saturate(120%);
}

/* أزرار رئيسية */
.btn{
  display:inline-flex;align-items:center;justify-content:center;
  gap:8px;border-radius:14px;border:1px solid rgba(255,255,255,.14);
  padding:12px 18px;background:rgba(255,255,255,.05);color:var(--text)
}
.btn.primary{background:linear-gradient(180deg,var(--accent-2),var(--accent));color:#242016;border:none}
.btn.ghost{background:transparent;border:1px solid rgba(255,255,255,.18)}
.btn.circle{width:60px;height:60px;border-radius:50%}
.btn.icon{width:48px;height:48px;border-radius:14px}
.btn:active{transform:translateY(1px)}

/* منزلقات */
input[type="range"]{
  -webkit-appearance:none;appearance:none;width:100%;height:6px;
  background:linear-gradient(90deg,var(--accent) 0%, rgba(255,255,255,.12) 0%);
  border-radius:999px;outline:0
}
input[type="range"]::-webkit-slider-thumb{
  -webkit-appearance:none;appearance:none;width:22px;height:22px;border-radius:50%;
  background:var(--accent);box-shadow:0 0 0 6px rgba(229,192,82,.15);border:1px solid rgba(0,0,0,.35)
}
input[type="range"]::-moz-range-thumb{
  width:22px;height:22px;border-radius:50%;background:var(--accent);border:none}

/* مفاتيح تحويل */
.switch{
  position:relative;width:84px;height:40px;border-radius:999px;
  background:#111;border:1px solid rgba(255,255,255,.12);padding:4px;display:inline-block
}
.switch .knob{
  width:32px;height:32px;border-radius:50%;background:var(--accent);
  box-shadow:0 0 0 10px rgba(229,192,82,.12);position:relative;left:0;transition:left .18s ease
}
.switch.on .knob{left:44px}

/* قوائم */
.listBtn{
  display:flex;align-items:center;justify-content:space-between;
  padding:16px 18px;border-radius:14px;border:1px solid rgba(255,255,255,.12);
  background:rgba(255,255,255,.04);margin:10px 0;color:var(--text)
}
.listBtn.active{outline:2px solid var(--accent)}

/* الأكوردون */
.accordion{overflow:hidden}
.accordion .content{max-height:0;transition:max-height .25s ease}
.accordion.open .content{max-height:1000px}

/* عناصر العنوان */
.logoWrap{margin-top:6px}
.moon{width:84px;height:84px;border-radius:50%;
  background:
    radial-gradient(60% 60% at 60% 40%, rgba(255,255,180,.25), transparent 60%),
    radial-gradient(60% 60% at 50% 50%, rgba(0,0,0,.85) 54%, transparent 56%),
    radial-gradient(60% 60% at 45% 50%, var(--accent) 54%, transparent 56%);
  box-shadow:0 0 60px rgba(229,192,82,.15) inset, 0 0 30px rgba(229,192,82,.18)
}

/* إخفاء شريط الصوت على الهاتف */
@media (max-width: 480px){
  .desktopOnly{display:none !important}
}

/* ===========================
   خلفية النجوم الكثيفة + وميض
   =========================== */

/* طبقات خلفية */
body.bg-stars{
  background:#000;
  position:relative;overflow-x:hidden;
}

/* 3 طبقات نجوم بتكرار كبير جداً */
body.bg-stars::before,
body.bg-stars::after,
body.bg-stars .stars-extra{
  content:"";
  position:fixed;inset:0;z-index:0;pointer-events:none;
  background-repeat:repeat;mix-blend-mode:screen;
}

/* طبقة 1 — نجوم صغيرة جداً بكثافة عالية */
body.bg-stars::before{
  background-image:
    radial-gradient(1px 1px at 8px 12px, rgba(255,255,255,.85) 50%, transparent 52%),
    radial-gradient(1px 1px at 40px 60px, rgba(255,255,255,.7) 50%, transparent 52%),
    radial-gradient(1px 1px at 90px 30px, rgba(255,255,255,.75) 50%, transparent 52%),
    radial-gradient(1px 1px at 140px 100px, rgba(255,255,255,.7) 50%, transparent 52%),
    radial-gradient(1px 1px at 200px 70px, rgba(255,255,255,.8) 50%, transparent 52%);
  background-size:240px 240px;
  opacity:.9; animation:twinkleB 4.2s ease-in-out infinite;
}

/* طبقة 2 — نجوم متوسطة مع درجات ذهبية خفيفة */
body.bg-stars::after{
  background-image:
    radial-gradient(1.6px 1.6px at 30px 20px, rgba(255,240,180,.9) 50%, transparent 52%),
    radial-gradient(1.4px 1.4px at 120px 140px, rgba(255,255,220,.85) 50%, transparent 52%),
    radial-gradient(1.8px 1.8px at 200px 80px, rgba(255,230,140,.9) 50%, transparent 52%),
    radial-gradient(1.6px 1.6px at 260px 190px, rgba(255,245,190,.85) 50%, transparent 52%),
    radial-gradient(1.4px 1.4px at 10px 210px, rgba(255,255,255,.8) 50%, transparent 52%);
  background-size:320px 320px;
  opacity:.8; animation:twinkleA 3.5s ease-in-out infinite;
}

/* طبقة 3 — نجوم أكبر متوهّجة جداً (داخل عنصر مساعد حتى لا تتأثر ::before/::after أخرى) */
body.bg-stars .stars-extra{
  background-image:
    radial-gradient(2.2px 2.2px at 50px 50px, rgba(255,255,210,1) 55%, transparent 57%),
    radial-gradient(2.2px 2.2px at 160px 120px, rgba(255,238,170,1) 55%, transparent 57%),
    radial-gradient(2.6px 2.6px at 270px 200px, rgba(255,255,230,1) 55%, transparent 57%),
    radial-gradient(2.4px 2.4px at 20px 160px, rgba(255,246,190,1) 55%, transparent 57%),
    radial-gradient(2.2px 2.2px at 220px 30px, rgba(255,255,210,1) 55%, transparent 57%);
  background-size:380px 380px;
  opacity:.75; animation:twinkleC 5.2s ease-in-out infinite;
}

/* حركة وميض خفيفة + parallax بسيط */
@keyframes twinkleA{
  0%,100%{opacity:.85; transform:translateY(0)}
  50%   {opacity:.45; transform:translateY(-.6px)}
}
@keyframes twinkleB{
  0%,100%{opacity:.9; transform:translateY(0)}
  50%   {opacity:.55; transform:translateY(.6px)}
}
@keyframes twinkleC{
  0%,100%{opacity:.75; transform:translateY(0)}
  50%   {opacity:.35; transform:translateY(-1px)}
}

/* إبقاء طبقات الواجهة فوق النجوم */
.header, main, footer, .playerCard, .panel, .card, .accordion, .topbar, .installFab{position:relative;z-index:1}

/* تقليل الحركة */
@media (prefers-reduced-motion: reduce){
  body.bg-stars::before,
  body.bg-stars::after,
  body.bg-stars .stars-extra{animation:none}
}

/* ------- تخطيطات عامة (اختياري) ------- */
.container{max-width:820px;margin:0 auto;padding:24px 18px}
.playerCard{padding:22px}
.controls{display:flex;align-items:center;justify-content:center;gap:14px;margin:16px 0}
.timeRow{display:flex;align-items:center;justify-content:space-between;margin:6px 0 12px}
.row{display:flex;align-items:center;justify-content:space-between;gap:14px}
.grid{display:grid;gap:14px}

/* تمييز الذهبي للنصوص */
.gold{color:var(--accent)}
small.note{color:var(--muted)}

/* زر تثبيت دائري يمين أعلى */
.installFab .btn.circle{
  width:54px;height:54px;background:radial-gradient(circle at 30% 30%, var(--accent-2), var(--accent));
  box-shadow:0 10px 30px rgba(229,192,82,.25);
}

/* مساحة أعلى الشعار */
.logoWrap{display:flex;justify-content:center;margin:10px 0 6px}

